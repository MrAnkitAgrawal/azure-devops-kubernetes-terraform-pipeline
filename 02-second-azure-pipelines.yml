trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

stages:
- stage: BuildStage
  variables:
    stageVar: BuildStageVar
  jobs:
  - job: BuildStageJob1
    variables: 
      jobVar: BuildJobVar
    steps:
    - bash: echo BuildStageJob1
    - bash: echo $(PipelineLevelVariable) | ${stageVar} | ${jobVar}

  - job: BuildStageJob2
    steps:
    - bash: echo BuildStageJob2

- stage: DevDeployStage
  dependsOn: BuildStage
  jobs:
  - job: DevDeployStageJob
    steps:
     - bash: echo DevDeployStageJob

- stage: QADeployStage
  dependsOn: BuildStage
  jobs:
  - job: QADeployStageJob
    steps:
     - bash: echo QADeployStageJob

- stage: PRDeployStage
  jobs:
  - job: PRDeployStageJob
    steps:
     - bash: echo PRDeployStageJob
